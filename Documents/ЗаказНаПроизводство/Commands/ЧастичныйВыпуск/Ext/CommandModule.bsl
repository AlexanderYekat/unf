#Область ПрограммныйИнтерфейс

//Процедура создания документа производства после отбора при частичном выпуске
//Параметры:
//Результат - Структура - содержит адрес  товаоров во временном хранилище и документ основания
//ДополнительныеПараметры - структура - содержит дополнительные параметры
&НаКлиенте
Процедура СоздатьСборкаЗапасовЗаказовПослеУточнения(Результат, ДополнительныеПараметры) Экспорт
	
	Если Результат = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Основание = Новый Структура();
	Основание.Вставить("АдресТовары", Результат.АдресТовары);
	Основание.Вставить("Основание", Результат.Основание);
	
	ПараметрыОткрытия = Новый Структура("Основание", Основание);
	
		ОткрытьФорму("Документ.СборкаЗапасов.Форма.ФормаДокумента",
		ПараметрыОткрытия,
		,
		Новый УникальныйИдентификатор);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
ПараметрыФормы = Новый Структура;
	ПараметрыФормы.Вставить("Основание", ПараметрКоманды);
	ПараметрыФормы.Вставить("ИмяМенеджераДокумента","СборкаЗапасов");
	
	
	
	ОписаниеОповещенияОЗакрытии = Новый ОписаниеОповещения(
	"СоздатьСборкаЗапасовЗаказовПослеУточнения",
	ЭтотОбъект,
	ПараметрыВыполненияКоманды);
	
	
		ОткрытьФорму("ОбщаяФорма.СозданиеНаОснованииУточнениеКоличества",
		ПараметрыФормы,
		ПараметрыВыполненияКоманды.Источник,
		ПараметрыВыполненияКоманды.Уникальность,
		ПараметрыВыполненияКоманды.Окно,
		ПараметрыВыполненияКоманды.НавигационнаяСсылка,
		ОписаниеОповещенияОЗакрытии);

КонецПроцедуры

#КонецОбласти
